(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c48ec6f4"],{"0a9c":function(e,t,o){"use strict";o("8c91")},"1ad1":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("7a23"),c=o("5927"),r=o("a183");function a(){const e=Object(n["inject"])(c["a"],null);return Object(n["computed"])(()=>{if(null===e)return r["a"];const{mergedThemeRef:{value:t},mergedThemeOverridesRef:{value:o}}=e,n=(null===t||void 0===t?void 0:t.common)||r["a"];return(null===o||void 0===o?void 0:o.common)?Object.assign({},n,o.common):n})}},"8c91":function(e,t,o){},ac7f:function(e,t,o){"use strict";o.r(t);var n=o("7a23"),c=function(e){return Object(n["pushScopeId"])("data-v-3d05b588"),e=e(),Object(n["popScopeId"])(),e},r={class:"header",ref:"header"},a=c((function(){return Object(n["createElementVNode"])("div",null,[Object(n["createTextVNode"])("阅读时长 "),Object(n["createElementVNode"])("span",{style:{"font-size":"1.5em"}},"114514"),Object(n["createTextVNode"])(" 小时")],-1)})),i=Object(n["createTextVNode"])(" 打开书籍"),u=Object(n["createTextVNode"])(" 打开文件夹"),d={class:"content"},l={class:"grid"};function s(e,t,o,c,s,b){var p,j=Object(n["resolveComponent"])("n-icon"),O=Object(n["resolveComponent"])("n-button"),f=Object(n["resolveComponent"])("n-button-group"),m=Object(n["resolveComponent"])("n-popover"),k=Object(n["resolveComponent"])("n-space"),v=Object(n["resolveComponent"])("book-card"),h=Object(n["resolveComponent"])("book-group-card");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"wrapper",style:Object(n["normalizeStyle"])(e.property)},[Object(n["createElementVNode"])("div",r,[Object(n["createVNode"])(k,{justify:"space-between",align:"center"},{default:Object(n["withCtx"])((function(){return[a,Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(k,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{text:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{size:"24",class:"icon"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.icon.mdiMagnify),1)]})),_:1})]})),_:1}),Object(n["createVNode"])(m,{placement:"bottom-end",trigger:"click",style:{padding:"0"}},{trigger:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{text:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{size:"24",class:"icon"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.icon.mdiDotsVertical),1)]})),_:1})]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{vertical:"",size:"large"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{onClick:e.chooseBook},{default:Object(n["withCtx"])((function(){return[i]})),_:1},8,["onClick"]),Object(n["createVNode"])(O,{onClick:e.chooseDir},{default:Object(n["withCtx"])((function(){return[u]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})])]})),_:1})],512),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",l,[e.gid?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(null===(p=e.bookList)||void 0===p?void 0:p.data,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"grid-item",key:e.id},[Object(n["createVNode"])(v,{book:e},null,8,["book"])])})),128)):(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(e.bookList,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"grid-item",key:e.id},["BookGroupCard"===e.type?(Object(n["openBlock"])(),Object(n["createBlock"])(h,{key:0,"book-list":e.data,id:e.id,"group-name":e.groupName},null,8,["book-list","id","group-name"])):(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:1,book:e.data},null,8,["book"]))])})),128))])])],4)}var b=o("1da1"),p=(o("d81d"),o("4de4"),o("8a79"),o("0d03"),o("d3b7"),o("25f0"),o("4160"),o("159b"),o("96cf"),o("c872")),j=o("9381"),O=o("3519"),f=o("9a21"),m=o("1ad1"),k=o("eaca"),v=o("cfe7"),h=o("7f6a"),g=o("6c02"),x=o("6022"),B=o("a933"),w=o("df7c"),N=Object(n["defineComponent"])({name:"BookShelf",props:{gid:String},components:{NSpace:p["a"],NButtonGroup:j["b"],NButton:O["a"],NPopover:f["a"],BookGroupCard:v["b"],BookCard:v["a"]},setup:function(e){var t=Object(m["a"])(),o=Object(g["c"])(),c=Object(h["a"])(),r=c.getBookList;c.init();var a=Object(n["inject"])("chooseFile");return{bookList:Object(n["computed"])((function(){return r(e.gid)})),icon:k["a"],property:Object(n["computed"])((function(){return{"--border-size":"1px","--border-color":t.value.borderColor,"--border-radius":t.value.borderRadius,"--opacity-2":t.value.opacity2}})),chooseBook:function(){return Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("chooseBook"),e.next=3,a.chooseFile("epub");case 3:return t=e.sent,console.log(t),e.next=7,o.push({name:"Read",params:{path:t}});case 7:return e.next=9,Object(x["b"])(t);case 9:n=e.sent,c.getBookByPath(t)||c.addBook(n.id,{title:n.title,cover:n.cover,path:t});case 11:case"end":return e.stop()}}),e)})))()},chooseDir:function(){return Object(b["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("chooseDir"),e.next=3,a.chooseDir();case 3:return t=e.sent,o=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,Object(x["e"])(t);case 3:return r=e.sent,e.next=6,Object(x["a"])(t);case 6:a=e.sent,r.filter((function(e){return e.endsWith("epub")})).map((function(e){c.getBookByPath(e)||n.push(e)})),0!==n.length&&c.addBookGroup(w.basename(t),n.map((function(e){return{path:e,id:B["Guid"].newGuid().toString()}}))),a.forEach((function(e){o(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=7,o(t);case 7:case"end":return e.stop()}}),e)})))()}}}}),C=(o("0a9c"),o("6b0d")),V=o.n(C);const y=V()(N,[["render",s],["__scopeId","data-v-3d05b588"]]);t["default"]=y}}]);