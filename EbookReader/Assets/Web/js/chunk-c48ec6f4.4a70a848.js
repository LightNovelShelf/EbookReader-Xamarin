(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c48ec6f4"],{"0a9c":function(e,t,o){"use strict";o("8c91")},"1ad1":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var c=o("7a23"),a=o("5927"),n=o("a183");function r(){const e=Object(c["inject"])(a["a"],null);return Object(c["computed"])(()=>{if(null===e)return n["a"];const{mergedThemeRef:{value:t},mergedThemeOverridesRef:{value:o}}=e,c=(null===t||void 0===t?void 0:t.common)||n["a"];return(null===o||void 0===o?void 0:o.common)?Object.assign({},c,o.common):c})}},"8c91":function(e,t,o){},ac7f:function(e,t,o){"use strict";o.r(t);var c=o("7a23");const a=e=>(Object(c["pushScopeId"])("data-v-3d05b588"),e=e(),Object(c["popScopeId"])(),e),n={class:"header",ref:"header"},r=a(()=>Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])("阅读时长 "),Object(c["createElementVNode"])("span",{style:{"font-size":"1.5em"}},"114514"),Object(c["createTextVNode"])(" 小时")],-1)),i=Object(c["createTextVNode"])(" 打开书籍"),l=Object(c["createTextVNode"])(" 打开文件夹"),d={class:"content"},b={class:"grid"};function s(e,t,o,a,s,j){var O;const p=Object(c["resolveComponent"])("n-icon"),u=Object(c["resolveComponent"])("n-button"),m=Object(c["resolveComponent"])("n-button-group"),k=Object(c["resolveComponent"])("n-popover"),v=Object(c["resolveComponent"])("n-space"),h=Object(c["resolveComponent"])("book-card"),g=Object(c["resolveComponent"])("book-group-card");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"wrapper",style:Object(c["normalizeStyle"])(e.property)},[Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(v,{justify:"space-between",align:"center"},{default:Object(c["withCtx"])(()=>[r,Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(v,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{text:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{size:"24",class:"icon"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.icon.mdiMagnify),1)]),_:1})]),_:1}),Object(c["createVNode"])(k,{placement:"bottom-end",trigger:"click",style:{padding:"0"}},{trigger:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{text:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{size:"24",class:"icon"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.icon.mdiDotsVertical),1)]),_:1})]),_:1})]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{vertical:"",size:"large"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{onClick:e.chooseBook},{default:Object(c["withCtx"])(()=>[i]),_:1},8,["onClick"]),Object(c["createVNode"])(u,{onClick:e.chooseDir},{default:Object(c["withCtx"])(()=>[l]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])]),_:1})],512),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",b,[e.gid?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(null===(O=e.bookList)||void 0===O?void 0:O.data,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"grid-item",key:e.id},[Object(c["createVNode"])(h,{book:e},null,8,["book"])]))),128)):(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:1},Object(c["renderList"])(e.bookList,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"grid-item",key:e.id},["BookGroupCard"===e.type?(Object(c["openBlock"])(),Object(c["createBlock"])(g,{key:0,"book-list":e.data,id:e.id,"group-name":e.groupName},null,8,["book-list","id","group-name"])):(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:1,book:e.data},null,8,["book"]))]))),128))])])],4)}var j=o("c872"),O=o("9381"),p=o("3519"),u=o("9a21"),m=o("1ad1"),k=o("eaca"),v=o("cfe7"),h=o("7f6a"),g=o("6c02"),f=o("6022"),B=o("a933");const N=o("df7c");var w=Object(c["defineComponent"])({name:"BookShelf",props:{gid:String},components:{NSpace:j["a"],NButtonGroup:O["b"],NButton:p["a"],NPopover:u["a"],BookGroupCard:v["b"],BookCard:v["a"]},setup(e){const t=Object(m["a"])(),o=Object(g["c"])(),a=Object(h["a"])(),n=a.getBookList;a.init();const r=Object(c["inject"])("chooseFile");return{bookList:Object(c["computed"])(()=>n(e.gid)),icon:k["a"],property:Object(c["computed"])(()=>({"--border-size":"1px","--border-color":t.value.borderColor,"--border-radius":t.value.borderRadius,"--opacity-2":t.value.opacity2})),async chooseBook(){console.log("chooseBook");let e=await r.chooseFile("epub");console.log(e),await o.push({name:"Read",params:{path:e}});let t=await Object(f["b"])(e);a.getBookByPath(e)||a.addBook(t.id,{title:t.title,cover:t.cover,path:e})},async chooseDir(){console.log("chooseDir");let e=await r.chooseDir(),t=async e=>{const o=[];let c=await Object(f["e"])(e),n=await Object(f["a"])(e);c.filter(e=>e.endsWith("epub")).map(e=>{a.getBookByPath(e)||o.push(e)}),0!==o.length&&a.addBookGroup(N.basename(e),o.map(e=>({path:e,id:B["Guid"].newGuid().toString()}))),n.forEach(e=>{t(e)})};await t(e)}}}}),C=(o("0a9c"),o("6b0d")),y=o.n(C);const V=y()(w,[["render",s],["__scopeId","data-v-3d05b588"]]);t["default"]=V}}]);